<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Profile Page</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #e6f2e6;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }

    .profile-container {
      background: #000000; /* Strong green */
      width: 370px;
      padding: 30px 25px 35px;
      border-radius: 12px;  
      box-shadow: 0 8px 24px rgba(46, 125, 50, 0.5);
      color: #e6f2e6;
      text-align: center;
      position: relative;
    }

    .profile-photo {
      position: relative;
      margin-bottom: 20px;
    }

    .profile-photo img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 50%;
      border: 4px solid #a5d6a7;
      background: #a5d6a7;
      box-shadow: 0 0 12px #a5d6a7aa;
      transition: box-shadow 0.3s ease;
    }

    /* Add subtle glow on hover for profile image */
    .profile-photo img:hover {
      box-shadow: 0 0 18px #81c784ff;
    }

    .upload-btn-wrapper {
      position: absolute;
      bottom: 0;
      right: 0;
      background: #81c784;
      border-radius: 50%;
      padding: 8px 10px;
      cursor: pointer;
      border: 2px solid #388e3c;
      transition: background 0.3s ease, box-shadow 0.3s ease;
      font-size: 20px;
      color: #1b5e20;
      user-select: none;
    }

    .upload-btn-wrapper:hover {
      background: #66bb6a;
      box-shadow: 0 0 8px #66bb6acc;
    }

    .upload-btn-wrapper input[type="file"] {
      font-size: 100px;
      position: absolute;
      left: 0;
      top: 0;
      opacity: 0;
      cursor: pointer;
    }

    h2 {
      margin: 10px 0 3px;
      font-weight: 700;
      font-size: 3rem;
      letter-spacing: 1px;
      text-shadow: 0 1px 2px #1b5e20bb;
    }

    #displayEmail {
      font-size: 0.95rem;
      margin-bottom: 25px;
      color: #c8e6c9;
      font-weight: 500;
    }

    /* Edit Profile button styling */
    #editProfileBtn {
      background-color: #81c784;
      border: none;
      color: #0c0f0c;
      padding: 12px 0;
      width: 140px;
      font-size: 16px;
      font-weight: 700;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(129, 199, 132, 0.5);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      margin: 0  auto 25px;
      display: block;
      user-select: none;
    }

    #editProfileBtn:hover {
      background-color: #5b7aa25c;
      box-shadow: 0 6px 14px rgba(102, 187, 106, 0.7);
      color: #f1f8e9;
    }

    form {
      text-align: left;
      margin-top: 0;
      display: none; /* initially hidden */
      background-color: #388e3c33;
      padding: 20px 20px 25px;
      border-radius: 12px;
      box-shadow: inset 0 0 12px #66bb6acc;
    }

    label {
      display: block;
      margin-bottom: 6px;
      font-weight: 700;
      color: #c8e6c9;
      letter-spacing: 0.03em;
    }

    input[type="text"],
    input[type="email"],
    input[type="date"] {
      width: 100%;
      padding: 12px 14px;
      border-radius: 8px;
      border: none;
      margin-bottom: 18px;
      font-size: 16px;
      box-sizing: border-box;
      outline: none;
      box-shadow: 0 0 6px #a5d6a733;
      transition: box-shadow 0.3s ease;
      background: #e6f2e6;
      color: #15202c8e;
      font-weight: 600;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="date"]:focus {
      box-shadow: 0 0 12px #a5d6a7cc;
      background: #f1f8e9;
    }

    button[type="submit"] {
      width: 100%;
      background-color: #060706;
      border: none;
      padding: 14px;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 700;
      color: #35a235;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: none;
    }

    button[type="submit"]:hover {
      background-color: #66bb6a;
      color: #f1f8e9;
    }

    .success-message {
      margin-top: 15px;
      padding: 12px 15px;
      background-color: #aed581;
      color: #1b5e20;
      border-radius: 8px;
      display: none;
      text-align: center;
      font-weight: 700;
      box-shadow: 0 0 12px #aed581cc;
      user-select: none;
    }
  </style>
</head>
<body>
  <div class="profile-container">
    <div class="profile-photo">
      <img id="profileImg" src="https://via.placeholder.com/120?text=User" alt="Profile Photo" />
      <div class="upload-btn-wrapper" title="Upload Photo" style="display:none;">
        &#128247;
        <input type="file" accept="image/*" id="photoUpload" />
      </div>
    </div>

    <h2 id="displayName">Your Name</h2>
    <p id="displayEmail">Your Email </p>

    <button id="editProfileBtn">Edit Profile</button>

    <form id="profileForm">
      <label for="name">Name</label>
      <input type="text" id="name" placeholder="Enter your name" required />

      <label for="dob">Date of Birth</label>
      <input type="date" id="dob" required />

      <label for="email">Email ID</label>
      <input type="email" id="email" placeholder="Enter your email" required />

      <button type="submit">Save Profile</button>
    </form>

    <div class="success-message" id="successMessage">Profile updated successfully!</div>
  </div>

  <script>
    const photoUpload = document.getElementById('photoUpload');
    const profileImg = document.getElementById('profileImg');
    const profileForm = document.getElementById('profileForm');
    const displayName = document.getElementById('displayName');
    const displayEmail = document.getElementById('displayEmail');
    const successMessage = document.getElementById('successMessage');
    const editProfileBtn = document.getElementById('editProfileBtn');
    const uploadBtnWrapper = document.querySelector('.upload-btn-wrapper');

    // Initialize form fields with display data (optional)
    function setFormValues(name, email) {
      document.getElementById('name').value = name || '';
      document.getElementById('email').value = email || '';
      // Optional: clear dob, or add stored value
      document.getElementById('dob').value = '';
    }

    // Toggle form visibility and edit mode
    editProfileBtn.addEventListener('click', () => {
      const formVisible = profileForm.style.display === 'block';

      if (!formVisible) {
        // Show form and upload photo button
        profileForm.style.display = 'block';
        uploadBtnWrapper.style.display = 'block';

        // Pre-fill form with current values
        setFormValues(displayName.textContent, displayEmail.textContent);

        editProfileBtn.textContent = 'Cancel';
        // Optionally prevent scrolling or adjust focus
      } else {
        // Hide form and upload photo button, reset form
        profileForm.style.display = 'none';
        uploadBtnWrapper.style.display = 'none';
        profileForm.reset();
        successMessage.style.display = 'none'; // hide success if showing
        editProfileBtn.textContent = 'Edit Profile';
      }
    });

    photoUpload.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          profileImg.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }
    });

    profileForm.addEventListener('submit', (e) => {
      e.preventDefault();

      // Get form values
      const name = document.getElementById('name').value.trim();
      const dob = document.getElementById('dob').value;
      const email = document.getElementById('email').value.trim();

      if (!name || !dob || !email) {
        alert('Please fill in all fields.');
        return;
      }

      // Update display fields
      displayName.textContent = name;
      displayEmail.textContent = email;

      // Show success message briefly
      successMessage.style.display = 'block';
      setTimeout(() => {
        successMessage.style.display = 'none';
      }, 3000);

      // Hide form and upload photo button after save and reset form
      profileForm.style.display = 'none';
      uploadBtnWrapper.style.display = 'none';
      editProfileBtn.textContent = 'Edit Profile';
      profileForm.reset();
    });
  </script>
</body>
</html>
