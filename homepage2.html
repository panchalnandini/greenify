<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Homepage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
      rel="stylesheet"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="logo-modified-removebg-preview.png"
    />
  </head>
  <body class="bg-gray-900 text-white">
    <!-- Menu Button -->
     <button
      class="menu-toggle fixed top-4 left-4 z-50 bg-gray-800 text-white p-2 rounded md:hidden"
    >
      Menu 
    </button> 

    <div class="relative flex size-full min-h-screen">
      <!-- Sidebar -->
      <aside
        id="sidebar"
        class="sidebar fixed top-0 left-0 h-screen bg-gray-800/90 backdrop-blur-sm border-r border-gray-700 w-64 flex flex-col -translate-x-full md:translate-x-0 transition-transform duration-300 pl-6 md:pl-12 z-40"
      >
        <div class="p-4 flex items-center gap-2">
          <img
            src="logo-modified-removebg-preview.png"
            alt="Logo"
            class="h-10 w-10 rounded-lg"
          />
          <h1 class="text-xl font-bold">Greenify</h1>
        </div>

        <!-- Menu -->
        <nav class="flex-1 py-2">
          <a
            href="#"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            data-page="activities"
            >Activities ğŸ­</a
          >
          <a
            href="games.html"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >Games ğŸ®</a
          >
          <a
            href="quiz.html"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >Quizzes ğŸ§©</a
          >
          <a
            href="leaderboard.html"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >Leaderboard ğŸ›¹</a
          >
          <a
            href="news.html"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >News ğŸ“°</a
          >
          <a
            href="modulecontent2.HTML"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >Modules ğŸ“‘ </a
          >
          <a
            href="calendar.html"
            class="menu-item block py-2 px-3 rounded hover:bg-gray-700 transition"
            >Calender ğŸ—“ï¸</a
          >
        </nav>

        <!-- Back to Index Button -->

        <div
          class="absolute bottom-6 left-1/2 transform -translate-x-1/2 w-11/12"
        >
          <a
            href="index.html"
            class="block text-center bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded-lg transition"
          >
            â¬… Back to Home
          </a>
        </div>
      </aside>

      <!-- Main Content -->
      <div
        id="main"
        class="flex-grow ml-0 md:ml-64 transition-all duration-300 p-4 sm:p-6 md:p-8"
      >
        <!-- Header -->
        <header
          class="flex flex-col sm:flex-row gap-4 sm:gap-0 sm:justify-between sm:items-center mb-6 sm:mb-8 relative z-50"
        >
          <div class="flex items-center justify-between w-full sm:w-auto">
            <button
              class="menu-toggle bg-gray-800 text-white p-2 rounded md:hidden"
            >
              â˜°
            </button>
            <h1 id="pageTitle" class="text-2xl sm:text-3xl font-bold ml-2">
              Welcome
            </h1>
          </div>

          <div class="relative">
            <button
              id="dropdownBtn"
              class="flex items-center gap-2 bg-gray-800 px-3 py-2 rounded-lg hover:bg-gray-700"
            >
              <img
                src="https://i.pravatar.cc/40"
                alt="User"
                class="w-8 h-8 rounded-full"
              />
              <span>Jane Doe</span>
              <span class="material-symbols-outlined"></span>
            </button>

            <div
              id="dropdownMenu"
              class="absolute right-0 mt-2 w-48 bg-gray-800 text-white rounded-lg shadow-lg hidden z-50"
            >
              <a href="dashboard.html" class="block px-4 py-2 hover:bg-gray-700"
                >Profile</a
              >
              <!-- <a
                href="leaderboard.html"
                class="block px-4 py-2 hover:bg-gray-700"
                >Leaderboard</a
              > -->
              <a
                href="helpandsupport.html"
                class="block px-4 py-2 hover:bg-gray-700"
                >Help & Support</a
              >
              <a href="#" class="block px-4 py-2 hover:bg-gray-700">Logout</a>
            </div>
          </div>
        </header>

        <!-- Center Fixed Box -->
        <div
          id="centerBox"
          class="bg-gray-800 p-6 rounded-2xl shadow-md min-h-[60vh] flex flex-col items-center justify-center text-gray-400"
        >
          <!-- Initially empty, will fill when menu items clicked -->

          <div
            class="flex flex-col items-center justify-center text-center p-8 h-full relative overflow-hidden"
          >
            <!-- Background -->
            <div
              class="absolute inset-0 bg-gradient-to-br from-green-800/20 via-transparent to-blue-800/20 animate-gradient"
            ></div>

            <!-- Glassmorphism Card -->
            <div
              class="bg-white/10 backdrop-blur-md rounded-2xl shadow-xl p-8 max-w-xl w-full border border-white/20 relative z-10"
            >
              <!-- Streak Badge -->
              <div id="streakBadge" class="streak-badge mb-4">
                ğŸ”¥ Daily Streak: <span id="streakCount">1</span> days
              </div>

              <h2 class="text-3xl font-extrabold text-green-300 drop-shadow-lg">
                ğŸ‘‹ Welcome, Jane!
              </h2>
              <p class="mt-2 text-gray-300">
                Ready for your next step in
                <span class="text-green-200 font-semibold">Greenify</span> ğŸŒ
              </p>

              <!-- Boxes Section -->
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-8 mt-8">
                <!-- Fact Box -->
                <div class="flex flex-col items-center">
                  <div class="scene">
                    <div id="factBox" class="cube">
                      <div class="face front">ğŸŒ</div>
                      <div class="face back">ğŸŒ±</div>
                      <div class="face right">â˜€ï¸</div>
                      <div class="face left">ğŸ’§</div>
                      <div class="face top">ğŸ</div>
                      <div class="face bottom">ğŸŒ³</div>
                    </div>
                  </div>
                  <p class="text-xs text-gray-300 mt-2">
                    Click to reveal Fact ğŸ”·
                  </p>
                  <div
                    id="factCard"
                    class="mt-4 bg-cyan-900/40 border border-cyan-500/30 rounded-xl p-4 text-left hidden w-full"
                  >
                    <p class="text-sm text-cyan-300 font-semibold">
                      ğŸ”· Eco Fact
                    </p>
                    <p id="ecoFact" class="text-gray-300 text-sm mt-1"></p>
                  </div>
                </div>

                <!-- Challenge Box -->
                <div class="flex flex-col items-center">
                  <div class="scene">
                    <div id="challengeBox" class="cube challenge">
                      <div class="face front">ğŸ’¡</div>
                      <div class="face back">ğŸš¶</div>
                      <div class="face right">â™»ï¸</div>
                      <div class="face left">ğŸ²</div>
                      <div class="face top">ğŸ”Œ</div>
                      <div class="face bottom">ğŸŒ¿</div>
                    </div>
                  </div>
                  <p class="text-xs text-gray-300 mt-2">
                    Click to reveal Challenge ğŸŸ©
                  </p>
                  <div
                    id="challengeCard"
                    class="mt-4 bg-green-900/40 border border-green-500/30 rounded-xl p-4 text-left hidden w-full"
                  >
                    <p class="text-sm text-green-300 font-semibold">
                      ğŸŸ© Eco Challenge
                    </p>
                    <p id="ecoChallenge" class="text-gray-300 text-sm mt-1"></p>
                  </div>
                </div>
              </div>

              <!-- Footer -->
              <p class="mt-8 text-sm text-gray-400 italic">
                "Small steps today, a greener tomorrow." ğŸŒğŸ’š
              </p>
            </div>
          </div>

          <style>
            /* Background animation */
            @keyframes gradient {
              0% {
                background-position: 0% 50%;
              }
              50% {
                background-position: 100% 50%;
              }
              100% {
                background-position: 0% 50%;
              }
            }
            .animate-gradient {
              background-size: 200% 200%;
              animation: gradient 10s ease infinite;
            }

            /* Scene */
            .scene {
              width: 100px;
              height: 100px;
              perspective: 600px;
              margin: auto;
            }

            /* Cube (3D Box) */
            .cube {
              width: 100px;
              height: 100px;
              position: relative;
              transform-style: preserve-3d;
              transform: rotateX(0deg) rotateY(0deg);
              transition: transform 2s ease-out;
              cursor: pointer;
            }

            .cube.challenge .face {
              background: linear-gradient(135deg, #22c55e, #16a34a);
            }
            .cube .face {
              position: absolute;
              width: 100px;
              height: 100px;
              background: linear-gradient(135deg, #06b6d4, #3b82f6);
              border: 2px solid rgba(255, 255, 255, 0.2);
              border-radius: 12px;
              font-size: 2rem;
              display: flex;
              align-items: center;
              justify-content: center;
            }

            /* Position faces */
            .front {
              transform: rotateY(0deg) translateZ(50px);
            }
            .back {
              transform: rotateY(180deg) translateZ(50px);
            }
            .right {
              transform: rotateY(90deg) translateZ(50px);
            }
            .left {
              transform: rotateY(-90deg) translateZ(50px);
            }
            .top {
              transform: rotateX(90deg) translateZ(50px);
            }
            .bottom {
              transform: rotateX(-90deg) translateZ(50px);
            }

            /* Streak Badge */
            .streak-badge {
              background: linear-gradient(90deg, #facc15, #f97316);
              color: #1f2937;
              font-weight: bold;
              padding: 8px 16px;
              border-radius: 12px;
              display: inline-block;
              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
              font-size: 1rem;
              animation: pulse 1.5s infinite alternate;
            }

            /* Gentle pulse animation */
            @keyframes pulse {
              0% {
                transform: scale(1);
              }
              100% {
                transform: scale(1.05);
              }
            }

            /* Glow animation when streak increases */
            .glow {
              animation: glowAnim 1s ease forwards;
            }
            @keyframes glowAnim {
              0% {
                box-shadow: 0 0 10px #facc15;
                transform: scale(1);
              }
              50% {
                box-shadow: 0 0 20px #facc15, 0 0 30px #f97316;
                transform: scale(1.1);
              }
              100% {
                box-shadow: 0 0 10px #facc15;
                transform: scale(1);
              }
            }
          </style>

          <script>
            const ecoFacts = [
              "Trees absorb COâ‚‚ and provide oxygen ğŸŒ³",
              "Bees pollinate 1/3 of the food we eat ğŸ",
              "Turning off electronics saves energy âš¡",
              "Recycling one can saves enough energy to power a TV for 3 hours â™»ï¸",
              "Composting reduces food waste ğŸŒ±",
            ];
            const challenges = [
              "Unplug devices not in use ğŸ”Œ",
              "Pick up 3 pieces of litter today ğŸ—‘ï¸",
              "Use public transport or walk ğŸš¶",
              "Try a meat-free meal ğŸ²",
              "Recycle plastic bottles â™»ï¸",
            ];

            // --- STREAK LOGIC ---
            const streakCountEl = document.getElementById("streakCount");
            const streakBadge = document.getElementById("streakBadge");

            const today = new Date();
            const todayStr = today.toISOString().split("T")[0];
            let lastVisit = localStorage.getItem("lastVisit");
            let streak = parseInt(localStorage.getItem("streak")) || 0;

            const yesterday = new Date();
            yesterday.setDate(today.getDate() - 1);
            const yesterdayStr = yesterday.toISOString().split("T")[0];

            let streakIncreased = false;

            if (lastVisit === todayStr) {
              // Already visited today, do nothing
            } else if (lastVisit === yesterdayStr) {
              streak += 1; // Continue streak
              streakIncreased = true;
            } else {
              streak = 1; // Reset streak
              streakIncreased = true;
            }

            // Save streak
            localStorage.setItem("lastVisit", todayStr);
            localStorage.setItem("streak", streak);

            // Display streak
            streakCountEl.textContent = streak;

            // Glow animation if streak increased
            if (streakIncreased) {
              streakBadge.classList.add("glow");
              setTimeout(() => streakBadge.classList.remove("glow"), 1000);
            }

            // --- FACT BOX ---
            const factBox = document.getElementById("factBox");
            const factCard = document.getElementById("factCard");
            const ecoFact = document.getElementById("ecoFact");

            factBox.addEventListener("click", () => {
              const x = Math.floor(Math.random() * 4) * 90;
              const y = Math.floor(Math.random() * 4) * 90;
              factBox.style.transform = `rotateX(${x + 360}deg) rotateY(${
                y + 360
              }deg)`;
              setTimeout(() => {
                ecoFact.textContent =
                  ecoFacts[Math.floor(Math.random() * ecoFacts.length)];
                factCard.classList.remove("hidden");
              }, 2000);
            });

            // --- CHALLENGE BOX ---
            const challengeBox = document.getElementById("challengeBox");
            const challengeCard = document.getElementById("challengeCard");
            const ecoChallenge = document.getElementById("ecoChallenge");

            challengeBox.addEventListener("click", () => {
              const x = Math.floor(Math.random() * 4) * 90;
              const y = Math.floor(Math.random() * 4) * 90;
              challengeBox.style.transform = `rotateX(${x + 360}deg) rotateY(${
                y + 360
              }deg)`;
              setTimeout(() => {
                ecoChallenge.textContent =
                  challenges[Math.floor(Math.random() * challenges.length)];
                challengeCard.classList.remove("hidden");
              }, 2000);
            });
          </script>
          <span class="text-lg">Select an option from the menu</span>
        </div>
      </div>
    </div>

    <!-- Sidebar Toggle Script -->
    <script>
      const menuBtn = document.querySelector(".menu-toggle");
      const sidebar = document.getElementById("sidebar");
      const main = document.getElementById("main");

      menuBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        sidebar.classList.toggle("-translate-x-full");
        main.classList.toggle("ml-64");
      });

      document.addEventListener("click", (e) => {
        if (
          !sidebar.contains(e.target) &&
          !menuBtn.contains(e.target) &&
          !sidebar.classList.contains("-translate-x-full")
        ) {
          sidebar.classList.add("-translate-x-full");
          main.classList.remove("ml-64");
        }
      });
    </script>

    <!-- Dropdown Script -->
    <script>
      const dropdownBtn = document.getElementById("dropdownBtn");
      const dropdownMenu = document.getElementById("dropdownMenu");

      dropdownBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        dropdownMenu.classList.toggle("hidden");
      });

      document.addEventListener("click", (e) => {
        if (
          !dropdownBtn.contains(e.target) &&
          !dropdownMenu.contains(e.target)
        ) {
          dropdownMenu.classList.add("hidden");
        }
      });
    </script>

    <!-- Menu Item Click Script -->
    <script>
      const centerBox = document.getElementById("centerBox");
      const pageTitle = document.getElementById("pageTitle");
      const menuItems = document.querySelectorAll(".menu-item");

      const activitiesData = [
        {
          title: "â™»ï¸ Recycling Challenge",
          points: "+50",
          description: "Sort and recycle household items correctly.",
          tags: ["beginner", "challenge"],
          time: "15 min",
          participants: "1200",
        },
        {
          title: "ğŸŒ³ Tree Planting",
          points: "+75",
          description: "Plant a tree in your community or garden.",
          tags: ["intermediate", "outdoor"],
          time: "20 min",
          participants: "500",
        },
        {
          title: "ğŸ’¡ Energy Saving",
          points: "+40",
          description: "Implement energy-saving practices at home.",
          tags: ["beginner"],
          time: "10 min",
          participants: "800",
        },
        {
          title: "Use Public Transport",
          points: "+40",
          description: "use public transport instead of personal vehicles.",
          tags: ["beginner"],
          time: "no time-limit",
          participants: "800",
        },
        {
          title: "Make Meme on Environment",
          points: "+40",
          description: "Make a creative meme on environment.",
          tags: ["beginner"],
          time: "30 min",
          participants: "800",
        },
        {
          title: "Use cycle or just walk for short distances",
          points: "+70",
          description: "Use cycle or just walk for short distances",
          tags: ["beginner"],
          time: "1 day",
          participants: "800",
        },
      ];

      // Function to render activity cards
      function renderActivities() {
        let html = `<h2 class="text-2xl font-semibold mb-4 text-white">ğŸŒ Environmental Activities</h2>
              <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 w-full">`;

        activitiesData.forEach((activity) => {
          html += `
      <div class="bg-white text-black p-6 rounded-2xl shadow-md flex flex-col justify-between">
        <div>
          <h3 class="text-xl font-bold mb-2 flex items-center gap-2">
            ${activity.title} <span class="text-orange-500">${
            activity.points
          }</span>
          </h3>
          <p class="mb-4">${activity.description}</p>
          <div class="flex gap-2 mb-2">
            ${activity.tags
              .map(
                (tag) =>
                  `<span class="bg-green-500 text-white text-xs px-2 py-1 rounded-full">${tag}</span>`
              )
              .join("")}
          </div>
          <div class="flex justify-between text-gray-500 text-sm">
            <span>â± ${activity.time}</span>
            <span>ğŸ‘¥ ${activity.participants}</span>
          </div>
        </div>
        <button class="mt-4 bg-black text-white py-2 px-3 rounded-lg font-semibold text-sm sm:text-base">
          Start Activity
        </button>
      </div>
    `;
        });

        html += `</div>`;
        centerBox.innerHTML = html;
      }

      // Handle menu clicks
      menuItems.forEach((item) => {
        item.addEventListener("click", (e) => {
          const page = item.getAttribute("data-page");

          // Only stop navigation for Activities
          if (page === "activities") {
            e.preventDefault();
            pageTitle.textContent = item.textContent;
            renderActivities();
          }
          // Games & Dashboard will just follow their href normally
        });
      });

      // Close sidebar on mobile when clicking a menu item
      const sidebarLinks = document.querySelectorAll("#sidebar .menu-item");

      sidebarLinks.forEach((link) => {
        link.addEventListener("click", () => {
          if (window.innerWidth < 768) {
            // only on mobile
            sidebar.classList.add("-translate-x-full");
            main.classList.remove("ml-64");
          }
        });
      });
    </script>
    <script src="theme.js"></script>

  </body>
</html>








